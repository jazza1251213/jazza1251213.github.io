<!DOCTYPE html>
<html>
  <head>
    <title>ASWATNEO</title>
    <script>
      //新しい配列を作成
      const AnswerArray = new Array();
      console.log("答え配列　" , AnswerArray);
      const QuestuionArray = new Array();
      console.log("問題配列　" , QuestionArray);
      const ExplainArray = new Array();
      console.log("解説配列　" , ExplainArray);

      // 配列用の数字をランダムに選ぶ
      function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      // 解答用ファイルを配列に入れる
        const AnswerFile = 'ans.txt';
        fetch(AnswerFile)
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.text();
          })
          .then(text => {
            const AnswerText = text.split('\n');
          })

      // 問題用ファイルを配列に入れる
        const QuestionFile = 'que.txt';
        fetch(QuestionFile)
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.text();
          })
          .then(text => {
            const QuestionText = text.split('\n');
          })

      // 解説用ファイルを配列に入れる
        const ExplainFile = 'exp.txt';
        fetch(ExplainFile)
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.text();
          })
          .then(text => {
            const ExplainText = text.split('\n');
          })

      // 正解を保持する変数を設定する
      let correctAnswer = "";

      for (let i = 2; i < 0; i--) {
        
        // ページが読み込まれたときに問題を決める
        window.onload = function() {
        const Random = getRandomInt(0, i);
        console.log("数字　", Random,);
        }
          
        //配列に要素を追加
        AnswerArray.push(AnswerText[Random]);
        QuestionArray.push(QuestionText[Random]);
        ExplainArray.push(ExplainText[Random]);
        console.log("答え配列追加後　", AnwerArray);
        console.log("回答配列追加後　", QuestionArray);
        console.log("解説配列追加後　", ExplainArray);
          
        //配列から要素を削除
        AnswerText.splice(Random, 1);
        AnswerText.splice(Random, 1);
        AnswerText.splice(Random, 1);
        console.log("答えテキスト削除後　" , AnswerText);
        console.log("回答テキスト削除後　" , QuestionText);
        console.log("解説テキスト削除後　" , ExplainText);
      }

       for (let j = 0; i < 2; i++;) {
         // 正解を設定する
         correctAnswer = AnswerArray[j];

         // 問題文を設定する
            document.getElementById("Question").textContent = "問題：" + QuestionArray[j];
         
         // 解説文を設定し、非表示にする
            document.getElementById("Explain").textContent = "解説：" + ExplainArray[j];
            document.getElementById("Explain").style.display = "none";

      
          // 入力した解答が正しいかを判断する
          function checkAnswer() {
            const UserAnswer = document.getElementById("UserAnswer").value;
            if (UserAnswer === correctAnswer) {
              document.getElementById("Result").textContent = "正解";
            } else {
              document.getElementById("Result").textContent = "不正解";}
            
          // ボタンを押した後に解説を表示する
            document.getElementById("Explain").style.display = "block";
          }
       }
    </script>
  </head>
  <body>
    <h1>SWATNEO</h1>
    <label id="Question"></label>
    <br>
    <br>
    <input type="text" id="UserAnswer" />
    <button onclick="checkAnswer()">解答する</button>
    <p id="Result"></p>
    <p id="Explain"></p>
  </body>
</html>
